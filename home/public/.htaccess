RewriteEngine On

# If the rule matches a file, skip processing and serve that file
# We don't have directory index/listing, so no need to check dirs
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule .* - [L]

RewriteCond %{HTTP_HOST} ^maglaboratory.org$ [NC]
RewriteRule ^(.*)$ http://www.maglaboratory.org/$1 [L]

RewriteRule ^/?haldor/.+$ /haldor-load.php [L]
RewriteRule ^/?hal/?$ /haldor-load.php [L]
RewriteRule ^/?hal/.+$ /haldor-load.php [L]
RewriteRule ^/?halley/.+$ /haldor-load.php [L]

RewriteRule ^/?members/?$ /members-load.php [L]
RewriteRule ^/?members/.+$ /members-load.php [L]

RewriteCond %{QUERY_STRING} title=(.*) [NC]
RewriteRule ^/?~maglab/wiki/index.php$ /wiki/%1 [R=301,L]

RewriteRule ^/?wiki(/.*)?$ %{DOCUMENT_ROOT}/w/index.php [L]
#RewriteRule ^/?wiki(/.*)?$ %{DOCUMENT_ROOT}/blank.php [L]

RewriteCond %{HTTP_HOST} ^preview\.maglaboratory\.org$ [NC,OR]
RewriteCond %{HTTP_HOST} ^maglab\.sj$ [NC]
RewriteRule ^(.*)?$ /MainApp.php [L]

RewriteRule ^(.*)?$ /main.php [L]


Options All -Indexes

